<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Scopefuscator v1.2</title>
<style>
body { font-family: monospace; background: #111; color: #0f0; padding: 20px; }
textarea { width: 100%; height: 250px; background: #000; color: #0f0; padding: 10px; border: 1px solid #0f0; resize: vertical; }
button { background: #0f0; color: #000; padding: 10px; margin: 10px 0; cursor: pointer; }
</style>
</head>
<body>
<h1>Scopefuscator UI</h1>
<textarea id="inputCode" placeholder="Enter Lua code..."></textarea>
<br />
<button onclick="obfuscateCode()">Obfuscate</button>
<br />
<textarea id="outputCode" readonly></textarea>

<script>
function obfuscateLua(source, key) {
    const xor = (data, key) => {
        let result = '';
        for (let i = 0; i < data.length; i++) {
            result += String.fromCharCode(data.charCodeAt(i) ^ key);
        }
        return result;
    };
    const toHex = str => [...str].map(c => ('0' + c.charCodeAt(0).toString(16)).slice(-2)).join('').toUpperCase();
    const enc = toHex(xor(source, key));
    const fakeFuncs = [
        "function useless1()local x=1 for i=1,10 do x=x+i end end",
        "function scoperIsTheBest()print('Scoper is the best! haha, lol, omg, smh')end",
        "function ad()print('Try ScopeHub Pro â€“ kinda not a scam!')end",
        "function confuse(x)return(x*math.random())end",
        "function filler()local a='fuck'local b='shit'end"
    ];
    const midVars = Array.from({length: 40}, () => {
        const n = Math.random().toString(36).substring(2, 10);
        const v = Math.floor(Math.random() * 99999);
        return `local ${n}=${v}`;
    }).join(';');
    return `-- Scopefuscator
functions();${fakeFuncs.join(';')};${midVars};if hookfunction or hookmetamethod then error("Tampering detected") end;local bit32=bit32 or require("bit32")local function xor(d,k)local r={}for i=1,#d do r[i]=string.char(bit32.bxor(d:byte(i),k))end return table.concat(r)end;local function fromhex(h)return h:gsub("..",function(c)return string.char(tonumber(c,16))end)end;local d=fromhex("${enc}")local f,err=loadstring(xor(d,${key}))if not f then error(err)end return f()`;
}
function obfuscateCode() {
    const input = document.getElementById("inputCode").value;
    if (!input.trim()) {
        document.getElementById("outputCode").value = "-- Paste some code first!";
        return;
    }
    const key = 0xAA;
    const result = obfuscateLua(input, key);
    document.getElementById("outputCode").value = result;
}
</script>
</body>
</html>
